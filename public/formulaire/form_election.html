<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Lumino UI Elements</title>
	<link href="css/bootstrap.min.css" rel="stylesheet">
	<link href="css/font-awesome.min.css" rel="stylesheet">
	<link href="css/datepicker3.css" rel="stylesheet">
	<link href="css/styles.css" rel="stylesheet">
	<link rel="stylesheet" href="jquery-ui.css">
	<!--Custom Font-->
	<link href="https://fonts.googleapis.com/css?family=Montserrat:300,300i,400,400i,500,500i,600,600i,700,700i" rel="stylesheet">
	<!--[if lt IE 9]>
	<script src="js/html5shiv.js"></script>
	<script src="js/respond.min.js"></script>
	<![endif]-->
<style type="text/css">
	tr{
			  border-top: solid silver 2px;
			  text-align: center;
			}
	td{
				border-radius: 5px;
			  border: solid silver 2px;
			  text-align: center;
			  padding: 10px;
			}
</style>	
</head>
<body>
	<nav class="navbar navbar-custom navbar-fixed-top" role="navigation">
		<div class="container-fluid">
			<div class="navbar-header">
				<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#sidebar-collapse"><span class="sr-only">Toggle navigation</span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span></button>
				<a class="navbar-brand" href="#"><span>Elections</span> Legislatives</a>
			</div>
		</div><!-- /.container-fluid -->
	</nav>
	<div id="sidebar-collapse" class="col-sm-3 col-lg-2 sidebar">
		<div class="profile-sidebar">
			<div class="profile-userpic">
				<img src="http://placehold.it/50/30a5ff/fff" class="img-responsive" alt="">
			</div>
			<div class="profile-usertitle">
				<div class="profile-usertitle-name">Username</div>
				<div class="profile-usertitle-status"><span class="indicator label-success"></span>Online</div>
			</div>
			<div class="clear"></div>
		</div>
		<div class="divider"></div>
		<ul class="nav menu">
			<li ><a href="accueil_admin.html"><em class="fa fa-dashboard">&nbsp;</em> Accueil</a></li>
			<li class="active"><a href="form_election.php"><em class="fa fa-list">&nbsp;</em>Lancer une election</a></li>
			<li class="parent "><a data-toggle="collapse" href="#sub-item-1"><em class="fa fa-user">&nbsp;</em>Agents<span data-toggle="collapse" href="#sub-item-1" class="icon pull-right"><em class="fa fa-plus"></em></span>
				</a>
				<ul class="children collapse" id="sub-item-1">
					<li><a class="" href="inscription.php">
						<span class="fa fa-arrow-right">&nbsp;</span>Inscrire un agent
					</a></li>
				<li><a class="" href="affiche_agent.php">
						<span class="fa fa-arrow-right">&nbsp;</span> Voir la liste des agents
					</a></li>
				</ul>
			</li>
			<li class="parent "><a data-toggle="collapse" href="#sub-item-2"><em class="fa fa-bar-chart">&nbsp;</em> Resultats<span data-toggle="collapse" href="#sub-item-2" class="icon pull-right"><em class="fa fa-plus"></em></span>
				</a>
				<ul class="children collapse" id="sub-item-2">
					<li><a class="" href="result_gene.php">
						<span class="fa fa-arrow-right">&nbsp;</span>General
					</a></li>
					<li><a class="" href="result_commune.php">
						<span class="fa fa-arrow-right">&nbsp;</span>Communal
					</a></li>
					<li><a class="" href="result_arron.php">
						<span class="fa fa-arrow-right">&nbsp;</span>Par arrondissement
					</a></li>
				</ul>
			</li>
			<li><a href="voir_rapport.php"><em class="fa fa-paperclip">&nbsp;</em>Documents</a></li>
			<li><a href="config_compte.php"><em class="fa fa-cog">&nbsp;</em>Mon compte</a></li>
			<li><a href="logout.php"><em class="fa fa-power-off">&nbsp;</em> Logout</a></li>
		</ul>
	</div><!--/.sidebar-->
		
	<div class="col-sm-9 col-sm-offset-3 col-lg-10 col-lg-offset-2 main">
		<div class="row">
			<div class="col-lg-12">
				<h1 class="page-header">Enregistrer les listes electorales	</h1>
			</div>
		</div><!--/.row-->		
				
		<div class="row">
			<div style="padding-left: 50px;" class="col-md-10">
				<div class="panel panel-info">
					<div class="panel-heading">Formulaire</div>
					<div class="panel-body">
					<form name="form_transaction" id="form_transaction" method='POST' action="#" onsubmit="return ValidationSaisie()">
				<input type="hidden" id ='nb_lignes_transfert' name='nb_lignes_transfert' value='2'>
				<input type="hidden" id="id_transfert_a_supprimer" name="id_transfert_a_supprimer" value="">
			 	<label>Renseigner les parties en lice : </label>
				<table id="tabtransfert" style="text-align: center; margin:5px; text-align: left;">
			     <tbody>
					<tr class="gris0">		
						<td style="width: 60px;"><label>Rajouter/supprimer <br/>une ligne</label></td>
						<td style="width: 400px;"><label>Nom du parti politique </label></td>
						<td style="width: 30px;"><label></label></td>
						<td style="width: 400px;"><label>Sigle</label></td>
					</tr>
				</tbody>	
					<tbody>
			 
					<tr class="gris0">
						<td  style="text-align: center;"> <button type="button" onclick="ajoutLigneAuTableauTransfert();" class="btn btn-info btn-xs"><i class="fa fa-plus"></i></button></td></td>
						<td ><input type='hidden' id='id_transfert1' name='id_transfert1' value="">
						<input class="form-control champ_date_input_tableau input" type='text'  id='date_t1' name='data_transaction[1][0]'>
						</td>
						<td ></td>
						<td ><input class="form-control champ_formulaire_gauche input" type='text' id='heure_t1' name='data_transaction[1][1]'></td>
					</tr> 
				</tbody>
			</table><br/>
			<div class="form-group">
            <div class='input-group date' id='datetimepicker8'>
                <input type='text' class="form-control" />
                <span class="input-group-addon">
                    <span class="fa fa-calendar">
                    </span>
                </span>
            </div>
        </div>			 		<br/><br/><br/><input type="submit" class="btn btn-info"  value="Enregistrer" />
			 		<br/>
			 		<br/>
			</form>
     </div>
				</div>
			</div>
		</div><!-- /.row -->
		
		
	</div><!--/.main-->
	
		<script src="js/jquery-1.11.1.min.js"></script>
	<script src="js/bootstrap.min.js"></script>
	<script src="js/chart.min.js"></script>
	<script src="js/chart-data.js"></script>
	<script src="js/easypiechart.js"></script>
	<script src="js/easypiechart-data.js"></script>
	<script src="js/bootstrap-datepicker.js"></script>
	<script src="js/custom.js"></script>
	<script type="text/javascript" src="./jquery-1.7.2.min.js"></script>
	<script type="text/javascript" src="./jquery-ui-1.8.21.custom.min.js"></script>
	<script src="jquery-1.12.4.js"></script>
	<script src="jquery-ui.js"></script>
	<script type="text/javascript">
<!--
	$(function () {
            $('#datetimepicker8').datetimepicker({
                icons: {
                    time: "fa fa-clock-o",
                    date: "fa fa-calendar",
                    up: "fa fa-arrow-up",
                    down: "fa fa-arrow-down"
                }
            });
        });
var nbLignesTransfert= 1;
 
 
function deleteRows(rowObjArray)
{
 
		for (var i=0; i<rowObjArray.length; i++) {
			var rIndex = rowObjArray[i].sectionRowIndex;
			rowObjArray[i].parentNode.deleteRow(rIndex);
 
		}
}
 
function ajoutLigneAuTableauTransfert()
{
 
		var tbl = document.getElementById('tabtransfert');
 
		// ajout d'une ligne
		var row = tbl.tBodies[1].insertRow(-1);
 
	// Lien cliquable de  Suppression de ligne
	var br=document.createElement('br')
	var newCell0 = row.insertCell(0);
	var LienSuppression=document.createElement('button');
	LienSuppression.setAttribute('type','button');
	LienSuppression.setAttribute('class','btn btn-danger btn-xs');
	newCell0.appendChild(LienSuppression);
    var icone=document.createElement('i');
	icone.setAttribute('class','fa fa-minus');
    LienSuppression.appendChild(icone);
	LienSuppression.onclick = function () {
		if(confirm('Êtes-vous sur de vouloir supprimer cette ligne ?')){	
						deleteCurrentRow_tab_transfert(this)};}
 
 
	// Cellule 1 : champ caché id_transfert + champ numéro de vol
	var newCell1 = row.insertCell(1);
 
	//Champ caché id_transfert : vide lors de la création, avec une valeur en mode modification
	var champ_id_transfert = document.createElement('input');
	champ_id_transfert.setAttribute('type','hidden');
	champ_id_transfert.setAttribute('name','id_transfert');
	champ_id_transfert.setAttribute('value','');
	newCell1.appendChild(champ_id_transfert);
 
	// Champ Date d arrivee
 
	var champ_date_arrivee = document.createElement('input');
	champ_date_arrivee.setAttribute('type','text');
	champ_date_arrivee.setAttribute('name','data_transaction[1][0]');
	champ_date_arrivee.setAttribute('value','');
	champ_date_arrivee.setAttribute('id','date_t');
	champ_date_arrivee.className='form-control champ_date_input_tableau input';
	newCell1.appendChild(champ_date_arrivee);
 
	var newCell2 = row.insertCell(2);
 
	// Champ Heure d arrivee
	var newCell3 = row.insertCell(3);
	var champ_heure_arrivee = document.createElement('input');
	champ_heure_arrivee.setAttribute('type','text');
	champ_heure_arrivee.setAttribute('name','data_transaction[1][1]');
	champ_heure_arrivee.setAttribute('value','');
	champ_heure_arrivee.setAttribute('id','heure_t');
	champ_heure_arrivee.className='form-control champ_formulaire_gauche input';
	newCell3.appendChild(champ_heure_arrivee);
  
	nbLignesTransfert++;
	majNumLignesTabTransfert('ajout');
	document.getElementById('nb_lignes_transfert').value= nbLignesTransfert;
 
}
 
function majNumLignesTabTransfert(modalite){
	var modalite;	
	for(var i = 0 ; i < nbLignesTransfert ; i++){
		var tbl = document.getElementById('tabtransfert');
		var nom_aeroport;
 
		tbl.tBodies[1].rows[i].className = 'gris0'	;
 
 
		//Mise a jour de la cellule 1 (champ caché id_transfert : vide lors de la création, avec une valeur en mode modification)
		tbl.tBodies[1].rows[i].cells[1].getElementsByTagName('INPUT')[0].setAttribute('name','id_transfert'+(i+1));
 
 
		//Mise a jour du champ date_arrivee
		tbl.tBodies[1].rows[i].cells[1].getElementsByTagName('INPUT')[1].setAttribute('name','data_transaction['+(i+1)+'][0]');
		tbl.tBodies[1].rows[i].cells[1].getElementsByTagName('INPUT')[1].setAttribute('id', 'date_t'+(i+1));
 
		//Mise a jour du champ heure_arrivee
		tbl.tBodies[1].rows[i].cells[2].getElementsByTagName('INPUT')[0].setAttribute('name','data_transaction['+(i+1)+'][1]');
		tbl.tBodies[1].rows[i].cells[2].getElementsByTagName('INPUT')[0].setAttribute('id', 'heure_t'+(i+1));
 
	}
}
function deleteCurrentRow_tab_transfert(obj,id_transfert_sup)
{
		var delRow = obj.parentNode.parentNode;
		var tbl = delRow.parentNode.parentNode;
		var rIndex = delRow.sectionRowIndex;
		var rowArray = new Array(delRow);
		var id_transfert_sup = id_transfert_sup;
		//alert(id_prestation_sup);
		if (!isNaN(id_transfert_sup)){
		document.forms["form_transaction"].elements["id_transfert_a_supprimer"].value+=id_transfert_sup+'|';
		}  
		deleteRows(rowArray);
 
		nbLignesTransfert--;	
		majNumLignesTabTransfert();
		document.getElementById('nb_lignes_transfert').value= nbLignesTransfert;		
}
//-->
</script>
</body>
</html>
